TODO
----
	- expand all test to include references if necessary
	- change all the collection algorithms to operate in terms of references
